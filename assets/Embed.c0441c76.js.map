{"version":3,"file":"Embed.c0441c76.js","sources":["../../packages/video/Embed.vue"],"sourcesContent":["<template>\n  <div v-if=\"video\" class=\"absolute top-0 bottom-0 left-0 right-0\">\n    <!-- Video Player -->\n    <Suspense>\n      <Player :item=\"video.item\" :full-height=\"true\" :disable-fullscreen=\"true\" />\n    </Suspense>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport Player from './components/Player.vue'\nimport { gql, useQuery, useResult } from '@/graphql'\nimport type { Query } from '@/graphql'\nimport { setSiteTitle } from '@/common/libs/setSiteTitle'\n\n/* submit query */\nconst route = useRoute()\nconst vid = computed(() => route.params.vid as string)\nconst { result } = useQuery<Query>(\n  gql`\n    query ($vid: String!) {\n      getVideo(para: { vid: $vid, lang: \"CHS\" }) {\n        item {\n          title\n          url\n          site\n        }\n      }\n    }\n  `,\n  {\n    vid: vid.value,\n  },\n)\n\n/* basic info */\nconst video = useResult(result, null, data => data?.getVideo)\n// change title\nwatchEffect(() => {\n  if (video.value)\n    setSiteTitle(video.value.item.title)\n})\n</script>\n"],"names":["route","useRoute","vid","computed","result","useQuery","gql","video","useResult","data","watchEffect","setSiteTitle"],"mappings":"6cAkBA,MAAAA,EAAAC,IACAC,EAAAC,EAAA,IAAAH,EAAA,OAAA,GAAA,EACA,CAAA,OAAAI,CAAA,EAAAC,EAAmBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IACjB,CAWA,IAAAJ,EAAA,KACW,CACX,EAIFK,EAAAC,EAAAJ,EAAA,KAAAK,GAAAA,GAAA,YAAAA,EAAA,QAAA,EAEA,OAAAC,EAAA,IAAA,CACEH,EAAA,OACEI,EAAAJ,EAAA,MAAA,KAAA,KAAA,CAAmC,CAAA"}