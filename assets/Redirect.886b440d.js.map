{"version":3,"file":"Redirect.886b440d.js","sources":["../../packages/user/Redirect.vue"],"sourcesContent":["<template>\n  <div class=\"text-center h-full w-full p-6\">\n    <div>\n      {{ t('user.redirect.log', { fromWord, count }) }}\n    </div>\n    <RouterLink class=\"underline\" to=\"/user/login\">\n      {{ t('user.redirect.jump') }}\n    </RouterLink>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { useRoute, useRouter } from 'vue-router'\nimport { setSiteTitle } from '@/common/libs/setSiteTitle'\n\nconst { t } = useI18n()\nconst route = useRoute()\nconst router = useRouter()\nsetSiteTitle(t('user.redirect.title'))\n\nconst From: Record<string, string> = {\n  'sign-up': t('user.redirect.from.sign-up'),\n  'reset-password': t('user.redirect.from.reset-password'),\n  'default': '?',\n}\nconst from = computed<string>(() => route.query.from as string)\n\nlet catchFrom = false\nfor (const key in From) {\n  if (key === from.value)\n    catchFrom = true\n}\nif (!catchFrom)\n  router.push('/404')\n\nconst fromWord = computed(() => From[from.value])\n\nconst count = ref<number>(5)\nonMounted(() => {\n  setInterval(() => count.value--, 1000)\n})\nwatch(count, () => {\n  if (!count.value)\n    router.push('/user/login')\n})\n</script>\n"],"names":["t","useI18n","route","useRoute","router","useRouter","setSiteTitle","From","from","computed","catchFrom","key","fromWord","count","ref","onMounted","watch"],"mappings":"kUAiBA,KAAA,CAAA,EAAAA,GAAAC,IACAC,EAAAC,IACAC,EAAAC,IACAC,EAAAN,EAAA,qBAAA,CAAA,EAEA,MAAAO,EAAA,CAAqC,UAAAP,EAAA,4BAAA,EACM,iBAAAA,EAAA,mCAAA,EACc,QAAA,GAC5C,EAEbQ,EAAAC,EAAA,IAAAP,EAAA,MAAA,IAAA,EAEA,IAAAQ,EAAA,GACA,UAAAC,KAAAJ,EACEI,IAAAH,EAAA,QACEE,EAAA,IAEJA,GACEN,EAAA,KAAA,MAAA,EAEF,MAAAQ,EAAAH,EAAA,IAAAF,EAAAC,EAAA,MAAA,EAEAK,EAAAC,EAAA,CAAA,EACA,OAAAC,EAAA,IAAA,CACE,YAAA,IAAAF,EAAA,QAAA,GAAA,CAAqC,CAAA,EAEvCG,EAAAH,EAAA,IAAA,CACEA,EAAA,OACET,EAAA,KAAA,aAAA,CAAyB,CAAA"}