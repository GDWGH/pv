{"version":3,"file":"decodeAdditionalConstraint.69b34c29.js","sources":["../../packages/ui/components/PvBotton.vue","../../packages/video/libs/decodeAdditionalConstraint.ts"],"sourcesContent":["<template>\n  <button\n    class=\"inline-flex items-center px-4 py-1 border border-purple-300 font-medium rounded-lg light:hover:text-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:hover:bg-gray-700\"\n  >\n    <slot />\n  </button>\n</template>\n\n<script lang=\"ts\" setup></script>\n","export function getAdditionalConstraintString(additionalConstraintUrl: string): string {\n  if (additionalConstraintUrl === '')\n    return ''\n  const additionalConstraintObject = JSON.parse(decodeURI(window.atob(additionalConstraintUrl)))\n  let additionalConstraintString = ''\n  if (additionalConstraintObject.searchContentAndOrNot)\n    additionalConstraintString += `${additionalConstraintObject.searchContentAndOrNot} `\n  if (additionalConstraintObject.exceptContent) {\n    const exceptContentArray = additionalConstraintObject.exceptContent.trim().split(' ')\n    for (let i = 0; i < exceptContentArray.length; i++)\n      additionalConstraintString += `NOT ${exceptContentArray[i]} `\n  }\n  if (additionalConstraintObject.visibleSites?.length) {\n    if (additionalConstraintObject.visibleSites.findIndex((item: string) => item === '') === -1) {\n      let sites = ''\n      for (let i = 0; i < additionalConstraintObject.visibleSites.length; i++)\n        sites += `site:${additionalConstraintObject.visibleSites[i]} `\n\n      additionalConstraintString += `ANY(${sites}) `\n    }\n  }\n  if (\n    additionalConstraintObject.date1?.beforeAfterEqualDate1\n    && additionalConstraintObject.date1.beforeAfterEqualDate1 !== ''\n  ) {\n    additionalConstraintString\n      += `date:${\n       additionalConstraintObject.date1.beforeAfterEqualDate1\n       }${additionalConstraintObject.date1.year1\n       }-${\n       additionalConstraintObject.date1.month1\n       }-${\n       additionalConstraintObject.date1.day1\n       } `\n  }\n  if (\n    additionalConstraintObject.date2?.beforeAfterEqualDate2\n    && additionalConstraintObject.date2.beforeAfterEqualDate2 !== ''\n  ) {\n    additionalConstraintString\n      += `date:${\n       additionalConstraintObject.date2.beforeAfterEqualDate2\n       }${additionalConstraintObject.date2.year2\n       }-${\n       additionalConstraintObject.date2.month2\n       }-${\n       additionalConstraintObject.date2.day2\n       } `\n  }\n  if (additionalConstraintObject.tag.moreLessEqualTagNum && additionalConstraintObject.tag.moreLessEqualTagNum !== '') {\n    additionalConstraintString\n      += `tags:${additionalConstraintObject.tag.moreLessEqualTagNum}${additionalConstraintObject.tag.tagNum} `\n  }\n  if (\n    additionalConstraintObject.onlyShowAutotagedVideos\n    && !additionalConstraintObject.searchContentAndOrNot.test(/Auto_tagged/)\n    && !additionalConstraintObject.exceptContent.test(/Auto_tagged/)\n  )\n    additionalConstraintString += 'Auto_tagged '\n\n  return additionalConstraintString\n}\n"],"names":["_sfc_render","_ctx","_cache","getAdditionalConstraintString","additionalConstraintUrl","additionalConstraintObject","additionalConstraintString","exceptContentArray","i","_a","item","sites","_b","_c"],"mappings":"uSACE,SAAAA,EAAAC,EAAAC,EAAA,8ECDK,SAASC,EAA8BC,EAAyC,WACrF,GAAIA,IAA4B,GACvB,MAAA,GACH,MAAAC,EAA6B,KAAK,MAAM,UAAU,OAAO,KAAKD,CAAuB,CAAC,CAAC,EAC7F,IAAIE,EAA6B,GAGjC,GAFID,EAA2B,wBAC7BC,GAA8B,GAAGD,EAA2B,0BAC1DA,EAA2B,cAAe,CAC5C,MAAME,EAAqBF,EAA2B,cAAc,KAAK,EAAE,MAAM,GAAG,EACpF,QAASG,EAAI,EAAGA,EAAID,EAAmB,OAAQC,IAC7CF,GAA8B,OAAOC,EAAmBC,KAC5D,CACI,IAAAC,EAAAJ,EAA2B,eAA3B,MAAAI,EAAyC,QACvCJ,EAA2B,aAAa,UAAWK,GAAiBA,IAAS,EAAE,IAAM,GAAI,CAC3F,IAAIC,EAAQ,GACZ,QAASH,EAAI,EAAGA,EAAIH,EAA2B,aAAa,OAAQG,IACzDG,GAAA,QAAQN,EAA2B,aAAaG,MAE3DF,GAA8B,OAAOK,KACvC,CAEF,QACEC,EAAAP,EAA2B,QAA3B,YAAAO,EAAkC,wBAC/BP,EAA2B,MAAM,wBAA0B,KAGzDC,GAAA,QACFD,EAA2B,MAAM,wBAC9BA,EAA2B,MAAM,SAEpCA,EAA2B,MAAM,UAEjCA,EAA2B,MAAM,WAIpCQ,EAAAR,EAA2B,QAA3B,YAAAQ,EAAkC,wBAC/BR,EAA2B,MAAM,wBAA0B,KAGzDC,GAAA,QACFD,EAA2B,MAAM,wBAC9BA,EAA2B,MAAM,SAEpCA,EAA2B,MAAM,UAEjCA,EAA2B,MAAM,SAGlCA,EAA2B,IAAI,qBAAuBA,EAA2B,IAAI,sBAAwB,KAC/GC,GACK,QAAQD,EAA2B,IAAI,sBAAsBA,EAA2B,IAAI,WAGjGA,EAA2B,yBACxB,CAACA,EAA2B,sBAAsB,KAAK,aAAa,GACpE,CAACA,EAA2B,cAAc,KAAK,aAAa,IAEjCC,GAAA,gBAEzBA,CACT"}