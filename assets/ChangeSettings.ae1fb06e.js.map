{"version":3,"mappings":"ojCA4DA,YACAA,MACA,UACAC,MAEAC,2BAQAC,SACE,SAAuC,CACrC,eACQ,gCACyB,uBACzB,qQAC0E,EAClF,CACA,kBACQ,mCAC4B,6BAC5B,sSAC6E,CACrF,EAGF,kBACEC,QAAgB,eACR,gCACyB,8BACzB,6JAC0E,GAIpFA,CAAO,GAETC,2CACAC,OACE,mBACEN,2BAA+B,GAEnCM,OACED,SACEE,8DAAqF,GAGzF,cACAC,IAAmB,KAEfC,gBAA6B,EAC/B,IACA,EACA","names":["router","auth","active","catogories","catogories2","activeCatogory","watchEffect","setSiteTitle","onCollapse","collapsed"],"sources":["../../packages/settings/ChangeSettings.vue"],"sourcesContent":["<template>\n  <LayoutDefault>\n    <div class=\"flex flex-col sm:flex-row gap-x-8 gap-y-4 max-w-screen-xl mx-4 sm:mx-auto mt-4\">\n      <!-- Left Sidebar -->\n      <div class=\"flex-shrink-0 w-full sm:w-48\">\n        <div class=\"flex flex-row flex-nowrap justify-between items-center\">\n          <h1 class=\"text-2xl\" v-text=\"t('settings.settings')\" />\n          <!-- Mobile Collapse -->\n          <div\n            class=\"sm:hidden text-3xl\"\n            :class=\"{ 'i-uil:arrow-from-top': collapsed, 'i-uil:arrow-to-bottom transform rotate-180': !collapsed }\"\n            @click=\"onCollapse\"\n          />\n        </div>\n        <div class=\"overflow-hidden\" :class=\"{ 'lt-sm:h-0': collapsed }\">\n          <div class=\"flex mt-3 flex-col gap-y-1\">\n            <div\n              v-for=\"catogory in catogories\"\n              :key=\"catogory.name\"\n              class=\"pl-2 py-1 rounded-full\"\n              :class=\"{\n                'cursor-default text-purple-900 dark:text-white bg-purple-100 dark:bg-gray-700':\n                  active === catogory.name,\n                'cursor-pointer select-none': active !== catogory.name,\n              }\"\n              @click=\"() => active !== catogory.name && router.push(`/settings/${catogory.name}`)\"\n            >\n              <div class=\"inline-block mr-2 text-4xl text-center align-middle\" :class=\"catogory.icon\" />\n              <div class=\"inline-block text-lg align-middle\" v-text=\"catogory.text\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Settings -->\n      <div class=\"flex-1 flex-shrink-0 min-h-70vh\">\n        <Suspense timeout=\"150\">\n          <template #default>\n            <Component :is=\"activeCatogory?.component\" />\n          </template>\n          <template #fallback>\n            <div class=\"mt-30vh text-center text-xl text-gray-600 dark:text-gray-300\">\n              <div class=\"inline-block align-middle\" v-text=\"t('settings.loading')\" />\n              <div class=\"i-uil:spinner-alt text-2xl animate-spin\" />\n            </div>\n          </template>\n        </Suspense>\n      </div>\n    </div>\n  </LayoutDefault>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, defineAsyncComponent, ref, watchEffect } from 'vue'\nimport type { Component } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useI18n } from 'vue-i18n'\nimport { useThrottleFn } from '@vueuse/core'\nimport { useAuth } from '@/user'\nimport { setSiteTitle } from '@/common/libs/setSiteTitle'\n\nconst route = useRoute()\nconst router = useRouter()\nconst { t } = useI18n()\nconst auth = useAuth()\n\nconst active = computed(() => route.params.catogory as string)\n\ninterface SettingsCategory {\n  name: string\n  text: string\n  icon: string\n  component: Component\n}\nconst catogories = computed(() => {\n  const catogories: SettingsCategory[] = [\n    {\n      name: 'general',\n      text: t('settings.general.name'),\n      icon: 'i-mdi-light:cog',\n      component: defineAsyncComponent(() => import('./components/SettingsGeneral.vue')),\n    },\n    {\n      name: 'appearance',\n      text: t('settings.appearance.name'),\n      icon: 'i-ph:magic-wand-light',\n      component: defineAsyncComponent(() => import('./components/SettingsAppearance.vue')),\n    },\n  ]\n\n  if (auth.isLogin) {\n    catogories.push({\n      name: 'account',\n      text: t('settings.account.name'),\n      icon: 'i-ph:user-circle-light',\n      component: defineAsyncComponent(() => import('./components/SettingsAccount.vue')),\n    })\n  }\n\n  return catogories\n})\nconst activeCatogory = computed(() => catogories.value.find(catogory => catogory.name === active.value))\nwatchEffect(() => {\n  if (!activeCatogory.value && active.value)\n    router.push('/settings/general')\n})\nwatchEffect(() => {\n  if (activeCatogory.value)\n    setSiteTitle(`${activeCatogory.value.text} - ${t('settings.settings')} - PatchyVideo`)\n})\n\nconst collapsed = ref(true)\nconst onCollapse = useThrottleFn(\n  () => {\n    collapsed.value = !collapsed.value\n  },\n  100,\n  false,\n)\n</script>\n"],"file":"assets/ChangeSettings.ae1fb06e.js"}